<app-home></app-home>

<div class="container row">
  <div class="layer_sala col-md-3">
    <h3>Salas 
      <div class="btn-group">
          <button class="btn btn-success btn-sm"
            (click)="showModal(-1, 'Cadastrar')">
            Nova
          </button>
          <button class="btn btn-danger btn-sm"
            (click)="deletarTodos('salas')" [disabled]="salas.length === 0">
            Deletar todas
          </button>
        </div>
    </h3>
    <hr>
    <ul class="list-group" #button>
      <button class="btn list-group-item li_sala"
        *ngFor="let sala of salas; let idx = index"
        (click)="onclick(idx)">
          {{ sala.nome }}
      </button>
    </ul>
  </div>
  <div class="horario_sala col-md-9">
    <h3>Hor√°rios
        <div class="btn-group">
            <button class="btn btn-success btn-sm"
              (click)="novoHorario(id)" [disabled]="id === -1">
              Novo
            </button>
            <button class="btn btn-danger btn-sm"
              (click)="deletarTodos('horarios', id)" [disabled]="id === -1">
              Deletar todos
            </button>
          </div>
      
    </h3>
    <table class="table table-hover">
      <tr>
        <th>Dia</th>
        <th>Horario Inicio</th>
        <th>Horario Fim</th>
        <th>Tipo Permitido</th>
        <th>Outros</th>
      </tr>
      
      <tr class="dados_sala" *ngFor="let horario of (id != -1 ? salas[id].horarios : []);let idx = index">
        <td>{{ horario.dia }}</td>
        <td>{{ horario.hora_inicio }}</td>
        <td>{{ horario.hora_fim }}</td>
        <td>{{ horario.tipo_user }}</td>
        <td>
          <button class="btn btn-primary" (click)='editarHorario(idx)' >Editar Horario</button>
          <button class="btn btn-danger"(click)='deletarHorario(idx, horario.id)'>Excluir Horario</button>
        </td>
      </tr>
      
    </table>
    <div class="button_salas row">
      <button class="btn btn-primary" (click)="showModal(id)" [disabled]= 'id == -1'>Editar Sala</button>
      <button class="btn btn-danger" (click)="deletarSala(id)" [disabled]= 'id == -1'>Deletar Sala</button>
    </div>
  </div>
</div>
